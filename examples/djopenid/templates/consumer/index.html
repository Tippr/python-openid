<html>
  <head>
    <title>Django OpenID Example Consumer</title>
    <style type="text/css">
    div.message {
        background: #9f9;
        padding: 0.5em;
        margin-top: 0.5em;
        margin-bottom: 0.5em;
        border: 1px solid #555;
        font-weight: bold;
    }

    div.error {
        background: #f99;
        padding: 0.5em;
        margin-top: 0.5em;
        margin-bottom: 0.5em;
        border: 1px solid #555;
        font-weight: bold;
    }

    div.box {
        background: #eee;
        border: 1px solid black;
        padding: 1em;
    }
    </style>
  </head>
  <body>

  <div class="box">

  <p>
    This is an example consumer built for the Django framework.

  <p>
    Enter an OpenID in the box below. In production, this will be a hardcoded
    value stored by Tippr as part of partner setup, not visible to the user.
  </p>

  {% if error %}
    <div class="error">{{ error|escape }}</div>
  {% endif %}

  {% if url %}
    <div class="message">
      OpenID authentication succeeded; you authenticated as
        <a href="{{ url }}">{{ url|escape }}</a>.

      <p>
      {% if ax %}
        Attribute Exchange data returned:

        <ul>
        {% for pair in ax %}
        <li>{{ pair.0 }}: {{ pair.1|join:", " }}</li>
        {% endfor %}
        </ul>
      {% else %}
        The server returned no Attribute Exchange data.
      {% endif %}
      </p>
    </div>
  {% endif %}

  {% if message %}
    <div class="message">
      {{ message|escape }}
    </div>
  {% endif %}

  {% if failure_reason %}
    <div class="error">
      {{ failure_reason|escape }}
    </div>
  {% endif %}

  <form method="post" action="{{ consumer_url }}">
    <input type="text" size="40" name="openid_identifier" />

    <input type="submit" name="action" id="button_login" value="Log In" />
    <input type="submit" name="action" id="button_create" value="Create" />
    <input type="submit" id="button_connect" value="Facebook Connect" />
  </form>

  </div>

  </body>
</html>
